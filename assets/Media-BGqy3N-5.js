var k=(r,v,a)=>new Promise((n,o)=>{var p=l=>{try{m(a.next(l))}catch(s){o(s)}},c=l=>{try{m(a.throw(l))}catch(s){o(s)}},m=l=>l.done?n(l.value):Promise.resolve(l.value).then(p,c);m((a=a.apply(r,v)).next())});import{r as _,_ as w}from"./index-C15Bz416.js";/* empty css                 *//* empty css                        */import{D as y,d as I,l as h,b as U}from"./element-plus-Cbe27J2b.js";import{v as b,r as i,c as x,x as T,y as V,B as f,M as d,u,K as B,a3 as C,H as E}from"./vue-chunks-COp0tDkU.js";const j=r=>_.post({url:"/video/moyin-tool/v1/video/parse/async",data:r}),M=r=>_.get({url:"/video/moyin-tool/v1/video/parse/async/"+r.taskId}),z={style:{margin:"2rem",display:"flex","justify-content":"right","align-items":"right"}},N={style:{"text-align":"center",margin:"auto 1rem"}},A={style:{position:"relative",float:"left",width:"50%","padding-right":"1rem"}},q={style:{position:"relative",float:"left",width:"50%"}},D=b({__name:"Media",setup(r){const v=i("https://v.douyin.com/i5jR61CW/"),a=i(!1);i(!1),i(!1);const n=i("https://static.tongliaowang.com/files/tlfiles/images/1708/14/20170814010341915355.jpg"),o=i(""),p=i("");x(()=>o.value=="");const c=x(()=>n.value=="https://static.tongliaowang.com/files/tlfiles/images/1708/14/20170814010341915355.jpg"?"":n.value);let m=6;const l=()=>k(this,null,function*(){a.value=!0;const s=yield j({videoUrl:v.value});let e=0;if(s.code==200){let t=setInterval(function(){return k(this,null,function*(){e++;let g=yield M({taskId:s.data.taskId});g.code==200&&(clearInterval(t),a.value=!1,p.value=g.data.title,n.value=g.data.cover,o.value=g.data.url),e>=m&&(U.error("解析失败，请稍后再试"),a.value=!1)})},1e3)}});return(s,e)=>(T(),V(E,null,[f("div",null,[d(u(y),{type:"textarea",value:v.value,"onUpdate:value":e[0]||(e[0]=t=>v.value=t),placeholder:"请输入视频链接",rows:4},null,8,["value"])]),f("div",z,[d(u(I),{type:"primary",loading:a.value,onClick:e[1]||(e[1]=t=>l())},{default:B(()=>e[5]||(e[5]=[C(" 立即解析 ")])),_:1},8,["loading"])]),f("div",N,[f("div",A,[d(u(h),{width:"100%",src:n.value},null,8,["src"])]),f("div",q,[d(u(y),{size:"large",value:p.value,"onUpdate:value":e[2]||(e[2]=t=>p.value=t),placeholder:"","addon-before":"视频标题："},null,8,["value"]),d(u(y),{size:"large",class:"input-margin-top",value:c.value,"onUpdate:value":e[3]||(e[3]=t=>c.value=t),placeholder:"","addon-before":"封面地址："},null,8,["value"]),d(u(y),{size:"large",class:"input-margin-top",value:o.value,"onUpdate:value":e[4]||(e[4]=t=>o.value=t),placeholder:"","addon-before":"视频地址："},null,8,["value"])])])],64))}}),$=w(D,[["__scopeId","data-v-b2754794"]]);export{$ as default};
